<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="gl-matrix.js"></script>
    <script src="webglUtils.js" type="text/javascript"></script>
    <script src="ui.js" type="text/javascript"></script>
    <script src="models.js" type="text/javascript"></script>
    <script src="snippets.js" type="text/javascript"></script>
    <script src="./models/defualt_models.js" type="text/javascript"></script>
    <script src="init-buffers.js" type="text/javascript"></script>
    <script src="init-attributes.js" type="text/javascript"></script>
    <script src="init-programs.js" type="text/javascript"></script>
    <script src="set-primitives.js" type="text/javascript"></script>
    <script src="object-info.js"></script>
    <script src="controller.js" type="text/javascript"></script>
    <script src="gl-manager.js" type="text/javascript"></script>
    <script src="main.js" type="text/javascript"></script>
    <title>Shader Editor</title>
  </head>
  <body>
    <main>
      <section id="directory">
        <button id="add-object-button">Add object</button>
        <!-- <button id="delete-object-button">Delete object</button> -->
        <button id="save-object-button">Save</button>
        <button id="load-object-button">Load</button>
        <input type="file" id="load-object-file" style="display:none" />
        <ul id="directory-container">
        </ul>
        
      </section>
      <section id="viewer">
        <menu>
          <li>Camera: 
            <select>
              <option>perspective</option>
            </select>
          </li>
          
          <li><input type="file" id="file-element" style="display:none" />
          <button id="file-select" type="button">Upload *.obj</button></li>
        </menu>
      <canvas id="canvas"></canvas>
      
      </section>
      <section id="editor">
        <menu id="tabs">
          <li id="vertex-tab" class="active">Vertex</li>
          <li id="fragment-tab">Fragment</li>
          <li id="info-tab">Object</li>
          <li id="control-tab">Camera</li>
          <li>Snippets: <select id="code-snippet">
          </select></li>
        </menu>
        <div id="vertex-panel" class="edit-panel active">
          <textarea id="vertex-editor"></textarea>
        </div>
        <div id="fragment-panel" class="edit-panel" >
          <textarea id="fragment-editor" spellcheck="false"></textarea>
        </div>
        <div id="info-panel" class="edit-panel">
          <div>
            <fieldset>
            <legend>Object</legend>
              <select id="object-select">
              <option value="F-letter">F-letter</option>
            </select>
            </fieldset>
            <fieldset >
              <legend>Position</legend>
              <label for="position-x" >x:</label>
              <input id="position-x" value = "0" type="number" step = "0.01">
              <label for="position-y" type="number" step = "0.01">y:</label>
              <input id="position-y" value = "0">
              <label for="position-z" type="number" step = "0.01">z:</label>
              <input id="position-z" value = "0">
            </fieldset>
            <fieldset>
              <legend>Scale</legend>
              <label for="scale-x" >x:</label>
              <input id="scale-x" value="1" type="number" step = "0.01">
              <label for="scale-y">y:</label>
              <input id="scale-y" value="1" type="number" step = "0.01">
              <label for="scale-z">z:</label>
              <input id="scale-z" value="1" type="number" step = "0.01">
              <input id="scale-link" type="checkbox" checked>
              <label for="link">Link</label>
            </fieldset>
            <fieldset>
              <legend>Rotation</legend>
              <label for="rotation-x">x:</label>
              <input id="rotation-x" value = "0" type="range" min="-180" max="180" step = "0.01">
              <label for="rotation-y">y:</label>
              <input id="rotation-y" value = "0" type="range" min="-180" max="180"step = "0.01">
              <label for="rotation-z">z:</label>
              <input id="rotation-z" value = "0"  type="range" min="-180" max="180"step = "0.01">
            </fieldset>
            <fieldset>
              <legend>Texture</legend>
              <label for="texture-select">Texture image:</label>
              <select id="texture-select">
              </select>
            </fieldset>
          </div>
        </div>
        <div id = "control-panel" class="edit-panel">
          <div id="scene-controls">
          </div></div>
        <button id="compile-button" spellcheck="false">Compile</button>
      </section>
    </main>
    <footer>
      <p>This is a shader editor.</p>
      <p>Update from last hw:</p>
      <p>New snippet for texture</p>
      <p>Use object tab to edit object, and use camera tab to move camera.</p>
      <p>Use the left sidebar to select which object to modify.</p>
      <p>Use save to download the model.</p>
      <p>Use load to load a json model file.</p>
      <p>Each object has its own shader.</p>
      <p>The skybox is from <a href="https://webgl2fundamentals.org/webgl/lessons/webgl-skybox.html">WebGL2 SkyBox - WebGL2 Fundamentals
</a></p>
      <p>Implemented uniform & attr: 
        <ul>
          <li>`vec4 a_position` - object postion</li>
          <li> `vec4 a_normal` - object normal </li>
          <li> `vec2 a_texcoord` - object texcoord</li>
          <li> `uniform mat4 u_worldMatrix` - Object to World Matrix
          <li> `uniform mat4 u_cameraMatrix` - World to Camera Matrix</li>
          <li> `uniform mat4 u_projectionMatrix` - Camera to Viewport Matrix</li>
          <li> `float time` - just time</li>
      </ul>
    </p>
    </footer>
  </body>
</html>